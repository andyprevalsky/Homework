	.ORIG X3000
	LD	R6, EMPTY		;INITIALIZE STACK POINTER	


	LDI	R0, KBSR		;SET IE BIT OF KBSR
	LD	R1, CMASK
	AND	R0, R1, R0
	LD	R1, MASK
	ADD	R0, R1, R0
	STI	R0, KBSR
	
	LD	R0, RUPT		;SET VECTOR TABLE
	STI	R0, KINT

	BR	LOOP
RUPT	.FILL	X1500
KINT	.FILL	X0180
EMPTY	.FILL 	X3000
KBSR	.FILL 	XFE00
CMASK	.FILL	#-16385
MASK	.FILL	#16384



LOOP	LEA	R0, INP
	TRAP 	X22
	LD	R0, LA
	TRAP	X21
	LEA	R1, DELAY
	JSRR	R1
	BR	LOOP

INP	.STRINGZ "Input a capital letter from the English alphabet:"
LA	.FILL	X000A
DELAY	ST	R1, SAVER1
	LD	R1, COUNT
REP	ADD	R1, R1, #-1
	BRNP	REP
	LD	R1, SAVER1
	RET
COUNT 	.FILL	#40000
SAVER1	.BLKW	1
	
	.END